!function(){async function e(){try{const e=await fetch("/data/sponsors.json",{cache:"no-store"});if(!e.ok)throw new Error("HTTP "+e.status);const n=await e.json();if(!Array.isArray(n)||0===n.length)return void(t.innerHTML='<p class="muted text-center">Pronto anunciaremos a los patrocinadores confirmados.</p>');const o=document.createDocumentFragment();n.forEach(e=>{const t="string"==typeof e.url&&e.url.length>0,n=document.createElement(t?"a":"div");if(n.className=e.class?`sponsor-card ${e.class}`:"sponsor-card",t){n.href=e.url,n.target="_blank",n.rel="noopener sponsored",e.cta&&(n.title=e.cta);const t=e.cta?`${e.cta}`:e.name||"Patrocinador";n.setAttribute("aria-label",t)}const r=document.createElement("img");r.loading="lazy",r.decoding="async",r.setAttribute("fetchpriority","low"),r.alt=e.name?`Logo ${e.name}`:"Logo patrocinador",r.src=e.logo,n.appendChild(r),o.appendChild(n)}),t.innerHTML="",t.appendChild(o)}catch(e){t.innerHTML='<p class="muted text-center">No fue posible cargar los patrocinadores en este momento.</p>'}}const t=document.getElementById("sponsor-grid")||document.querySelector("[data-sponsors-grid]");if(!t)return;const n="IntersectionObserver"in window?new IntersectionObserver((t,n)=>{t.forEach(t=>{t.isIntersecting&&(n.disconnect(),e())})}):null;n?n.observe(t):e()}();